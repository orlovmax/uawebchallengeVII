function removeClass(index,classNames){var current_classes=classNames.split(" "),classes_to_remove=[];return $.each(current_classes,function(index,class_name){/screen_bg.*/.test(class_name)&&classes_to_remove.push(class_name)}),classes_to_remove.join(" ")}!function($,window,document){function AnchorScroll(element,options){this.options=$.extend({},defaults,options),this.element=element,this.init()}var defaults={navAnchor:"js-anchor",navLink:"js-link",activeLink:"is-active"};AnchorScroll.prototype.init=function(){var i,$this=$(this.element),$navAnchor=$this.find("."+this.options.navAnchor),$navLink=$this.find("."+this.options.navLink),aArray=[];for($navAnchor.click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var target=$(this.hash);if(target=target.length?target:$("[name="+this.hash.slice(1)+"]"),target.length)return $("html,body").animate({scrollTop:target.offset().top},1e3),!1}}),i=0;i<$navLink.length;i+=1){var link=$navLink[i],ahref=$(link).attr("href");aArray.push(ahref)}$(window).scroll($.proxy(function(){var windowPos=$(window).scrollTop(),windowHeight=$(window).height(),docHeight=$(document).height(),$firstSection=$("section").eq(0);for(i=0;i<aArray.length;i+=1){var theID=aArray[i],sectPos=$(theID).offset().top,sectHeight=$(theID).height();windowPos>=sectPos&&sectPos+sectHeight>windowPos?$navLink.filter("[href='"+theID+"']").addClass(this.options.activeLink):$navLink.filter("[href='"+theID+"']").removeClass(this.options.activeLink)}windowPos+windowHeight===docHeight&&($this.find("li").filter(":last-child").find($navLink).hasClass(this.options.activeLink)||($navLink.filter("."+this.options.activeLink).removeClass(this.options.activeLink),$this.find("li").filter(":last-child").find($navLink).addClass(this.options.activeLink))),windowPos<$firstSection.offset().top&&($this.find("li").filter(":first-child").find($navLink).hasClass(this.options.activeLink)||($navLink.filter("."+this.options.activeLink).removeClass(this.options.activeLink),$this.find("li").filter(":first-child").find($navLink).addClass(this.options.activeLink)))},this))},$.fn.anchorScroll=function(options){return this.each(function(){new AnchorScroll(this,options)})}}(jQuery,window,document),function($){function MixFilter(element,options){this.options=$.extend({},defaults,options),this.element=element,this.init()}var defaults={item:"js-filteritem",itemHidden:"is-hidden",filterLink:"js-filterlink",filterSelected:"is-active"};MixFilter.prototype.init=function(){{var $this=$(this.element),$item=$this.find("."+this.options.item),$filterLink=($("."+this.options.itemHidden),$this.find("."+this.options.filterLink));$("."+this.options.filterSelected)}$filterLink.on("click",$.proxy(function(e){e.preventDefault();var $target=$($(e.target));if(!$target.hasClass(this.options.filterSelected)){$filterLink.removeClass(this.options.filterSelected),$target.addClass(this.options.filterSelected);var filterVal=$target.attr("href").slice(1).toLowerCase();$item.each(function(){$(this).is("[data-cat*="+filterVal+"]")?$(this).show():$(this).hide()})}},this))},$.fn.mixFilter=function(options){return this.each(function(){new MixFilter(this,options)})}}(jQuery,window,document),function($){function GallJs(element,options){this.options=$.extend({},defaults,options),this.element=element,this.init()}var defaults={toggleLink:"js-showall",toggleList:"js-galllist",gallControls:"js-controls",openList:"is-open"};GallJs.prototype.init=function(){var $this=$(this.element),$toggleLink=$this.find("."+this.options.toggleLink),$toggleList=$this.find("."+this.options.toggleList),$gallControls=$this.find("."+this.options.gallControls);$toggleLink.on("click",$.proxy(function(e){e.preventDefault();var $link=$($(e.target));$this.hasClass(this.options.openList)?($link.text("Показать всех"),$toggleList.add($this).removeClass(this.options.openList),$gallControls.show()):($link.text("Свернуть"),$toggleList.add($this).addClass(this.options.openList),$gallControls.hide())},this))},$.fn.gallJs=function(options){return this.each(function(){new GallJs(this,options)})}}(jQuery,window,document),function($,window,document){function NavKit(element,options){this.options=$.extend({},defaults,options),this.element=element,this.init()}var defaults={navAnchor:"js-anchor",navLink:"js-link",navOpen:"js-navopen",navClose:"js-navclose",topnav:"js-topnav",topnavBtn:"js-topnavbtn",topnavBg:"is-bg",visible:"is-visible",activeLink:"is-active",state:"closed"};NavKit.prototype.init=function(){var i,$this=$(this.element),$navAnchor=$this.find("."+this.options.navAnchor),$navLink=$this.find("."+this.options.navLink),$navOpen=$("."+this.options.navOpen),$navClose=$("."+this.options.navClose),$topnav=$("."+this.options.topnav),$topnavBtn=$("."+this.options.topnavBtn),cond=this.options.state,aArray=[];for(cond&&"closed"!=cond?$this.addClass(this.options.visible):$this.removeClass(this.options.visible),$navOpen.on("click",$.proxy(function(e){e.preventDefault(),$this.addClass(this.options.visible)},this)),$navClose.on("click",$.proxy(function(e){e.preventDefault(),$this.removeClass(this.options.visible)},this)),$navAnchor.click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var target=$(this.hash);if(target=target.length?target:$("[name="+this.hash.slice(1)+"]"),target.length)return $("html,body").animate({scrollTop:target.offset().top},1e3),!1}}),i=0;i<$navLink.length;i+=1){var link=$navLink[i],ahref=$(link).attr("href");aArray.push(ahref)}$(window).scroll($.proxy(function(){var windowPos=$(window).scrollTop(),windowHeight=$(window).height(),docHeight=$(document).height(),$firstSection=$(".screen").eq(0);for(i=0;i<aArray.length;i+=1){var theID=aArray[i],sectPos=$(theID).offset().top,sectHeight=$(theID).height();windowPos>=sectPos&&sectPos+sectHeight>windowPos?$navLink.filter("[href='"+theID+"']").addClass(this.options.activeLink):$navLink.filter("[href='"+theID+"']").removeClass(this.options.activeLink)}windowPos+windowHeight===docHeight&&($this.find("li").filter(":last-child").find($navLink).hasClass(this.options.activeLink)||($navLink.filter("."+this.options.activeLink).removeClass(this.options.activeLink),$this.find("li").filter(":last-child").find($navLink).addClass(this.options.activeLink))),windowPos<$firstSection.offset().top&&($this.find("li").filter(":first-child").find($navLink).hasClass(this.options.activeLink)||($navLink.filter("."+this.options.activeLink).removeClass(this.options.activeLink),$this.find("li").filter(":first-child").find($navLink).addClass(this.options.activeLink))),windowPos>windowHeight?($topnav.addClass(this.options.topnavBg),$topnavBtn.addClass(this.options.visible)):($topnav.removeClass(this.options.topnavBg),$topnavBtn.removeClass(this.options.visible))},this))},$.fn.navKit=function(options){return this.each(function(){new NavKit(this,options)})}}(jQuery,window,document),function($){function ToggleContent(element,options){this.options=$.extend({},defaults,options),this.element=element,this.init()}var defaults={toggleLink:"js-togglelink",toggleBg:"js-togglebg",toggleCorner:"js-togglecorner",toggleTarget:"js-toggletarget",togglePopup:"js-togglepopup",toggleClose:"js-toggleclose",activeContent:"is-visible",activeLink:"is-active",asideCorner:"is-corner"};ToggleContent.prototype.init=function(){var $this=$(this.element),$toggleLink=$this.find("."+this.options.toggleLink),$toggleTarget=$this.find("."+this.options.toggleTarget),$togglePopup=$this.find("."+this.options.togglePopup),$toggleClose=$this.find("."+this.options.toggleClose),$toggleCorner=$this.find("."+this.options.toggleCorner);$toggleLink.on("click",$.proxy(function(e){e.preventDefault();for(var catchLink=e.target;catchLink&&"A"!==catchLink.nodeName;)catchLink=catchLink.parentNode;if(catchLink){var $current=$(catchLink),targetCheck=$current.attr("href"),$target=$($current.attr("href"));if(!$current.hasClass(this.options.activeLink))if("#all"!==targetCheck){if($toggleLink.removeClass(this.options.activeLink),$target.hasClass(this.options.toggleTarget))if($toggleTarget.fadeOut().removeClass(this.options.activeContent),$current.hasClass(this.options.toggleBg)){var bgName=catchLink.hash.slice(1);$this.removeClass(removeClass),$this.addClass("screen_bg_"+bgName),$toggleCorner.hasClass(this.options.asideCorner)||$toggleCorner.addClass("is-corner")}else $this.removeClass(removeClass),$this.addClass("screen_bg_none"),$toggleCorner.hasClass(this.options.asideCorner)&&$toggleCorner.removeClass("is-corner");else $togglePopup.fadeOut().removeClass(this.options.activeContent);$current.addClass(this.options.activeLink),$target.fadeIn().addClass(this.options.activeContent)}else $toggleLink.removeClass(this.options.activeLink),$current.addClass(this.options.activeLink),$toggleTarget.removeAttr("style").removeClass(this.options.activeContent),$this.removeClass(removeClass).end().addClass("screen_bg_none"),$toggleCorner.hasClass(this.options.asideCorner)&&$toggleCorner.removeClass("is-corner")}},this)),$toggleClose.on("click",$.proxy(function(e){e.preventDefault(),$togglePopup.fadeOut().removeClass(this.options.activeContent)},this))},$.fn.toggleContent=function(options){return this.each(function(){new ToggleContent(this,options)})}}(jQuery,window,document),$(function(){$(".js-nav").navKit({state:"closed"}),$(".js-switchers").anchorScroll({state:"closed"}),$(".js-toggle").each(function(){$(this).toggleContent()}),$(".js-gall").gallJs(),$(".js-filter").mixFilter()});